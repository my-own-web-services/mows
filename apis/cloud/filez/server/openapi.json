{"openapi":"3.1.0","info":{"title":"filez-server","description":"","license":{"name":""},"version":"0.0.1"},"paths":{"/api/access_policies/check":{"post":{"operationId":"check_resource_access","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckResourceAccessRequestBody"}}},"required":true},"responses":{"200":{"description":"Checks if the requested resources are available to this user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CheckResourceAccessResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/access_policies/create":{"post":{"operationId":"create_access_policy","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccessPolicyRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new access policy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AccessPolicy"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/access_policies/delete/{access_policy_id}":{"delete":{"operationId":"delete_access_policy","responses":{"200":{"description":"Deletes a access policy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_String"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/access_policies/get/{access_policy_id}":{"get":{"operationId":"get_access_policy","responses":{"200":{"description":"Gets a access policy by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AccessPolicy"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/access_policies/list":{"post":{"operationId":"list_access_policies","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAccessPoliciesRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists access policies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListAccessPoliciesResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/access_policies/update/{access_policy_id}":{"put":{"operationId":"update_access_policy","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccessPolicyRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a access policy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AccessPolicy"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/create":{"post":{"operationId":"create_file_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_FileGroup"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/delete/{file_group_id}":{"delete":{"operationId":"delete_file_group","responses":{"200":{"description":"Deletes a file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_String"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/get/{file_group_id}":{"get":{"operationId":"get_file_group","responses":{"200":{"description":"Gets a file group by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_FileGroup"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/list":{"post":{"operationId":"list_file_groups","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFileGroupsRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists file groups","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListFileGroupsResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/list_files":{"post":{"operationId":"list_files","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFilesRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists the files in a given group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListFilesResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/update/{file_group_id}":{"put":{"operationId":"update_file_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_FileGroup"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_groups/update_members":{"post":{"operationId":"update_file_group_members","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileGroupMembersRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates the members of a file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_versions/content/get/{file_id}/{version}/{app_id}/{app_path}":{"get":{"operationId":"get_file_version_content","parameters":[{"name":"file_id","in":"path","description":"The ID of the file to retrieve content for","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"version","in":"path","description":"The version of the file to retrieve, if left empty, the latest version will be returned","required":true,"schema":{"type":["integer","null"],"format":"int32","minimum":0}},{"name":"app_id","in":"path","description":"The ID of the application that uploaded the file, if left empty, the app id is the filez server itself","required":true,"schema":{"type":["string","null"],"format":"uuid"}},{"name":"app_path","in":"path","required":true,"schema":{"type":["string","null"]}},{"name":"d","in":"path","description":"download the file/set the content disposition header to attachment","required":true,"schema":{"type":["boolean","null"]}},{"name":"c","in":"path","description":"request setting the caching headers for max-age in seconds","required":true,"schema":{"type":["integer","null"],"format":"int64","minimum":0}}],"responses":{"200":{"description":"Gets a single files data/content from the server","content":{"application/octet-stream":{"schema":{"type":"array","items":{"type":"integer","format":"int32","minimum":0}}}}},"206":{"description":"Partial content returned due to range request","content":{"application/octet-stream":{"schema":{"type":"array","items":{"type":"integer","format":"int32","minimum":0}}}}},"404":{"description":"File not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal server error retrieving file content","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_versions/content/tus/{file_id}/{version}":{"head":{"operationId":"file_versions_content_tus_head","parameters":[{"name":"file_id","in":"path","description":"The ID of the file to check for upload status","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"version","in":"path","description":"The version of the file, if applicable","required":true,"schema":{"type":["integer","null"],"format":"int32","minimum":0}}],"responses":{"200":{"description":"File exists and is ready to resume upload"},"400":{"description":"Bad request, missing or invalid headers"},"404":{"description":"File not found"},"412":{"description":"Precondition failed due to missing or invalid Tus-Resumable header"}}},"patch":{"tags":["FileVersion"],"description":"Patch a file version using the TUS protocol. The file and the file version must exist. If the file version is marked as verified it cannot be patched, unless the expected checksum is updated or removed.","operationId":"file_versions_content_tus_patch","parameters":[{"name":"file_id","in":"path","description":"The ID of the file to patch","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"version","in":"path","description":"The version of the file to patch, if applicable","required":true,"schema":{"type":["integer","null"],"format":"int32","minimum":0}}],"requestBody":{"content":{"application/offset+octet-stream":{}}},"responses":{"204":{"description":"File was successfully patched"},"400":{"description":"Bad request, missing or invalid headers"},"404":{"description":"File not found"},"412":{"description":"Precondition failed, likely due to missing or invalid Tus-Resumable header"},"413":{"description":"File version size exceeded, the size of the file version exceeds the allowed limit"},"415":{"description":"Unsupported media type, Content-Type must be application/offset+octet-stream"},"500":{"description":"Internal server error, unexpected error occurred while processing the request"}}}},"/api/file_versions/create":{"post":{"description":"Create a new file version entry in the database","operationId":"create_file_version","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileVersionRequestBody"}}},"required":true},"responses":{"201":{"description":"Created a file version on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CreateFileVersionResponseBody"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_versions/delete":{"post":{"description":"Delete file versions in the database","operationId":"delete_file_versions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFileVersionsRequestBody"}}},"required":true},"responses":{"200":{"description":"Deleted file versions on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_DeleteFileVersionsResponseBody"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_versions/get":{"post":{"description":"Get file versions from the server","operationId":"get_file_versions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetFileVersionsRequestBody"}}},"required":true},"responses":{"200":{"description":"Got file versions from the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_GetFileVersionsResponseBody"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/file_versions/update":{"post":{"description":"Update file versions in the database","operationId":"update_file_versions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileVersionsRequestBody"}}},"required":true},"responses":{"200":{"description":"Updated file versions on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UpdateFileVersionsResponseBody"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/files/create":{"post":{"description":"Create a new file entry in the database","operationId":"create_file","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileRequestBody"}}},"required":true},"responses":{"200":{"description":"Created a file on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CreateFileResponseBody"}}}}}}},"/api/files/delete":{"post":{"description":"Delete a file entry in the database","operationId":"delete_file","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFileRequestBody"}}},"required":true},"responses":{"200":{"description":"Deleted a file on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_DeleteFileResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/files/get":{"post":{"description":"Get files from the server","operationId":"get_files","responses":{"200":{"description":"Got files from the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_GetFilesResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/files/meta/get":{"post":{"operationId":"get_files_metadata","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetFilesMetaRequestBody"}}},"required":true},"responses":{"200":{"description":"Gets the metadata for any number of files","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_GetFilesMetaResBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/files/meta/update":{"put":{"operationId":"update_files_metadata","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFilesMetaRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates the metadata for any number of files","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/files/update":{"post":{"description":"Update a file entry in the database","operationId":"update_file","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileRequestBody"}}},"required":true},"responses":{"200":{"description":"Updated a file on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UpdateFileResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/health":{"get":{"operationId":"get_health","responses":{"200":{"description":"Service healthy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_HealthResBody"}}}},"503":{"description":"Service unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_HealthResBody"}}}}}}},"/api/storage_locations/list":{"post":{"operationId":"list_storage_locations","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListStorageLocationsRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists all Storage Locations","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListStorageLocationsResponseBody"}}}}}}},"/api/storage_quotas/create":{"post":{"operationId":"create_storage_quota","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStorageQuotaRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new storage quota","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CreateStorageQuotaResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/storage_quotas/delete":{"delete":{"operationId":"delete_storage_quota","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteStorageQuotaRequestBody"}}},"required":true},"responses":{"200":{"description":"Deletes a storage quota","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/storage_quotas/get":{"get":{"operationId":"get_storage_quota","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetStorageQuotaRequestBody"}}},"required":true},"responses":{"200":{"description":"Gets a storage quota","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_StorageQuota"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/storage_quotas/list":{"post":{"operationId":"list_storage_quotas","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListStorageQuotasRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists storage quotas","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Vec_StorageQuota"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/storage_quotas/update":{"put":{"operationId":"update_storage_quota","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStorageQuotaRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a storage quota","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_StorageQuota"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/user_groups/create":{"post":{"operationId":"create_user_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UserGroup"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/user_groups/delete/{user_group_id}":{"delete":{"operationId":"delete_user_group","responses":{"200":{"description":"Deletes a user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_String"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/user_groups/get/{user_group_id}":{"get":{"operationId":"get_user_group","responses":{"200":{"description":"Gets a user group by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UserGroup"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/user_groups/list":{"post":{"operationId":"list_user_groups","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUserGroupsRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists user groups","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListUserGroupsResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/user_groups/list_users/{user_group_id}":{"post":{"operationId":"list_users_by_user_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsersRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists the users in a given group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListUsersResponseBody"}}}}}}},"/api/user_groups/update_members":{"post":{"operationId":"update_user_group_members","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserGroupMembersRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates the members of a user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/user_groups/{user_group_id}":{"put":{"operationId":"update_user_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UserGroup"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/users/apply":{"post":{"operationId":"apply_user","responses":{"200":{"description":"Applied own user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ApplyUserResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/users/create":{"post":{"operationId":"create_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a User","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CreateUserResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/users/delete":{"post":{"operationId":"delete_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteUserRequestBody"}}},"required":true},"responses":{"200":{"description":"Deletes a User","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_DeleteUserResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/users/get":{"post":{"operationId":"get_users","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUsersReqBody"}}},"required":true},"responses":{"200":{"description":"Gets Users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_GetUsersResBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/users/list":{"post":{"operationId":"list_users","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsersRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists all Users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListUsersResponseBody"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}}},"components":{"schemas":{"AccessPolicy":{"type":"object","required":["id","name","owner_id","created_time","modified_time","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"created_time":{"type":"string","format":"date-time"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"AccessPolicyAction":{"type":"string","enum":["FilezFilesCreate","FilezFilesDelete","FilezFilesGet","FilezFilesUpdate","FilezFilesMetaGet","FilezFilesMetaList","FilezFilesMetaUpdate","FilezFilesVersionsContentGet","FilezFilesVersionsContentTusHead","FilezFilesVersionsContentTusPatch","FilezFilesVersionsDelete","FilezFilesVersionsGet","FilezFilesVersionsUpdate","FilezFilesVersionsCreate","UsersGet","UsersList","UsersCreate","UsersUpdate","UsersDelete","FileGroupsCreate","FileGroupsGet","FileGroupsUpdate","FileGroupsDelete","FileGroupsList","FileGroupsListFiles","FileGroupsUpdateMembers","UserGroupsCreate","UserGroupsGet","UserGroupsUpdate","UserGroupsDelete","UserGroupsList","UserGroupsListUsers","UserGroupsUpdateMembers","AccessPoliciesCreate","AccessPoliciesGet","AccessPoliciesUpdate","AccessPoliciesDelete","AccessPoliciesList","StorageQuotasCreate","StorageQuotasGet","StorageQuotasUpdate","StorageQuotasDelete","StorageQuotasList","StorageLocationsGet","StorageLocationsList"]},"AccessPolicyEffect":{"type":"string","enum":["Deny","Allow"]},"AccessPolicyResourceType":{"type":"string","enum":["File","FileGroup","User","UserGroup","StorageLocation","AccessPolicy","StorageQuota"]},"AccessPolicySubjectType":{"type":"string","enum":["User","UserGroup","ServerMember","Public"]},"ApiResponseStatus":{"type":"string","enum":["Success","Error"]},"ApiResponse_AccessPolicy":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","name","owner_id","created_time","modified_time","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"created_time":{"type":"string","format":"date-time"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ApplyUserResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/FilezUser"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CheckResourceAccessResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["auth_evaluations"],"properties":{"auth_evaluations":{"type":"array","items":{"$ref":"#/components/schemas/AuthEvaluation"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CreateFileResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","mime_type"],"properties":{"id":{"type":"string"},"mime_type":{"type":"string"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CreateFileVersionResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["version"],"properties":{"version":{"$ref":"#/components/schemas/FileVersion"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CreateStorageQuotaResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["storage_quota"],"properties":{"storage_quota":{"$ref":"#/components/schemas/StorageQuota"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CreateUserResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_DeleteFileResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["file_id"],"properties":{"file_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_DeleteFileVersionsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersionIdentifier"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_DeleteUserResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["user_id"],"properties":{"user_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_EmptyApiResponse":{"type":"object","required":["message","status"],"properties":{"data":{"default":null},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_FileGroup":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","owner_id","name","created_time","modified_time","group_type"],"properties":{"created_time":{"type":"string","format":"date-time"},"dynamic_group_rule":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/DynamicGroupRule"}]},"group_type":{"$ref":"#/components/schemas/FileGroupType"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_GetFileVersionsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersion"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_GetFilesMetaResBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["files_meta"],"properties":{"files_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FileMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_GetFilesResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["files"],"properties":{"files":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FilezFile"},"propertyNames":{"type":"string","format":"uuid"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_GetUsersResBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["users_meta"],"properties":{"users_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_HealthResBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["all_healthy","database","zitadel","controller","storage_locations"],"properties":{"all_healthy":{"type":"boolean"},"controller":{"$ref":"#/components/schemas/HealthStatus"},"database":{"$ref":"#/components/schemas/HealthStatus"},"storage_locations":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/HealthStatus"},"propertyNames":{"type":"string","format":"uuid"}},"zitadel":{"$ref":"#/components/schemas/HealthStatus"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListAccessPoliciesResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["access_policies"],"properties":{"access_policies":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicy"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListFileGroupsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["file_groups"],"properties":{"file_groups":{"type":"array","items":{"$ref":"#/components/schemas/FileGroup"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListFilesResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["files","total_count"],"properties":{"files":{"type":"array","items":{"$ref":"#/components/schemas/FilezFile"}},"total_count":{"type":"integer","format":"int64"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListStorageLocationsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["storage_locations"],"properties":{"storage_locations":{"type":"array","items":{"$ref":"#/components/schemas/StorageLocationListItem"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListUserGroupsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["user_groups"],"properties":{"user_groups":{"type":"array","items":{"$ref":"#/components/schemas/UserGroup"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListUsersResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["users","total_count"],"properties":{"total_count":{"type":"integer","format":"int64"},"users":{"type":"array","items":{"$ref":"#/components/schemas/FilezUser"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_StorageQuota":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","name","owner_id","subject_type","subject_id","storage_location_id","quota_bytes","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"},"quota_bytes":{"type":"integer","format":"int64"},"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_String":{"type":"object","required":["message","status"],"properties":{"data":{"type":"string"},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_UpdateFileResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["file"],"properties":{"file":{"$ref":"#/components/schemas/FilezFile"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_UpdateFileVersionsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersion"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_UserGroup":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","owner_id","name","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_Vec_StorageQuota":{"type":"object","required":["message","status"],"properties":{"data":{"type":"array","items":{"type":"object","required":["id","name","owner_id","subject_type","subject_id","storage_location_id","quota_bytes","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"},"quota_bytes":{"type":"integer","format":"int64"},"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApplyUserResponseBody":{"type":"object","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/FilezUser"}}},"AuthEvaluation":{"type":"object","required":["is_allowed","reason"],"properties":{"is_allowed":{"type":"boolean"},"reason":{"$ref":"#/components/schemas/AuthReason"},"resource_id":{"type":["string","null"],"format":"uuid"}}},"AuthReason":{"oneOf":[{"type":"string","enum":["SuperAdmin"]},{"type":"string","enum":["Owned"]},{"type":"object","required":["AllowedByPubliclyAccessible"],"properties":{"AllowedByPubliclyAccessible":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByServerAccessible"],"properties":{"AllowedByServerAccessible":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByDirectUserPolicy"],"properties":{"AllowedByDirectUserPolicy":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByDirectGroupPolicy"],"properties":{"AllowedByDirectGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id"],"properties":{"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByResourceGroupUserPolicy"],"properties":{"AllowedByResourceGroupUserPolicy":{"type":"object","required":["policy_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByResourceGroupUserGroupPolicy"],"properties":{"AllowedByResourceGroupUserGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByPubliclyAccessible"],"properties":{"DeniedByPubliclyAccessible":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByServerAccessible"],"properties":{"DeniedByServerAccessible":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByDirectUserPolicy"],"properties":{"DeniedByDirectUserPolicy":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByDirectGroupPolicy"],"properties":{"DeniedByDirectGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id"],"properties":{"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByResourceGroupUserPolicy"],"properties":{"DeniedByResourceGroupUserPolicy":{"type":"object","required":["policy_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByResourceGroupUserGroupPolicy"],"properties":{"DeniedByResourceGroupUserGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"string","enum":["NoMatchingAllowPolicy"]},{"type":"string","enum":["ResourceNotFound"]}]},"CheckResourceAccessRequestBody":{"type":"object","required":["resource_type","action"],"properties":{"action":{"$ref":"#/components/schemas/AccessPolicyAction"},"requesting_app_origin":{"type":["string","null"]},"resource_ids":{"type":["array","null"],"items":{"type":"string","format":"uuid"}},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"}}},"CheckResourceAccessResponseBody":{"type":"object","required":["auth_evaluations"],"properties":{"auth_evaluations":{"type":"array","items":{"$ref":"#/components/schemas/AuthEvaluation"}}}},"CreateAccessPolicyRequestBody":{"type":"object","required":["name","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"name":{"type":"string"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"CreateFileGroupRequestBody":{"type":"object","required":["name","group_type"],"properties":{"dynamic_group_rule":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/DynamicGroupRule"}]},"group_type":{"$ref":"#/components/schemas/FileGroupType"},"name":{"type":"string"}}},"CreateFileRequestBody":{"type":"object","required":["file_name"],"properties":{"file_name":{"type":"string"},"mime_type":{"type":["string","null"]},"time_created":{"type":["string","null"],"format":"date-time"},"time_modified":{"type":["string","null"],"format":"date-time"}}},"CreateFileResponseBody":{"type":"object","required":["id","mime_type"],"properties":{"id":{"type":"string"},"mime_type":{"type":"string"}}},"CreateFileVersionRequestBody":{"type":"object","required":["file_id","metadata","size","storage_quota_id"],"properties":{"app_path":{"type":["string","null"]},"content_expected_sha256_digest":{"type":["string","null"]},"file_id":{"type":"string","format":"uuid"},"metadata":{"$ref":"#/components/schemas/FileVersionMetadata"},"size":{"type":"integer","format":"int64"},"storage_quota_id":{"type":"string","format":"uuid"}}},"CreateFileVersionResponseBody":{"type":"object","required":["version"],"properties":{"version":{"$ref":"#/components/schemas/FileVersion"}}},"CreateStorageQuotaRequestBody":{"type":"object","required":["subject_type","subject_id","storage_location_id","quota_bytes","name"],"properties":{"name":{"type":"string"},"quota_bytes":{"type":"integer","format":"int64"},"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"CreateStorageQuotaResponseBody":{"type":"object","required":["storage_quota"],"properties":{"storage_quota":{"$ref":"#/components/schemas/StorageQuota"}}},"CreateUserGroupRequestBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"CreateUserRequestBody":{"type":"object","required":["email"],"properties":{"email":{"type":"string"}}},"CreateUserResponseBody":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"DeleteFileRequestBody":{"type":"object","required":["file_id"],"properties":{"file_id":{"type":"string","format":"uuid"}}},"DeleteFileResponseBody":{"type":"object","required":["file_id"],"properties":{"file_id":{"type":"string","format":"uuid"}}},"DeleteFileVersionsRequestBody":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersionIdentifier"}}}},"DeleteFileVersionsResponseBody":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersionIdentifier"}}}},"DeleteStorageQuotaRequestBody":{"type":"object","required":["subject_type","subject_id","storage_location_id"],"properties":{"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"DeleteUserMethod":{"oneOf":[{"type":"object","required":["ById"],"properties":{"ById":{"type":"string","format":"uuid"}}},{"type":"object","required":["ByExternalId"],"properties":{"ByExternalId":{"type":"string"}}},{"type":"object","required":["ByEmail"],"properties":{"ByEmail":{"type":"string"}}}]},"DeleteUserRequestBody":{"type":"object","required":["method"],"properties":{"method":{"$ref":"#/components/schemas/DeleteUserMethod"}}},"DeleteUserResponseBody":{"type":"object","required":["user_id"],"properties":{"user_id":{"type":"string","format":"uuid"}}},"DynamicGroupRule":{"type":"object"},"EmptyApiResponse":{"default":null},"FileGroup":{"type":"object","required":["id","owner_id","name","created_time","modified_time","group_type"],"properties":{"created_time":{"type":"string","format":"date-time"},"dynamic_group_rule":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/DynamicGroupRule"}]},"group_type":{"$ref":"#/components/schemas/FileGroupType"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"FileGroupType":{"type":"string","enum":["Manual","Dynamic"]},"FileMeta":{"type":"object","required":["file","tags"],"properties":{"file":{"$ref":"#/components/schemas/FilezFile"},"tags":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}}}},"FileMetadata":{"type":"object","required":["private_app_data","shared_app_data","extracted_data"],"properties":{"default_preview_app_id":{"type":["string","null"],"format":"uuid"},"extracted_data":{"description":"Extracted data from the file, such as text content, metadata, etc."},"private_app_data":{"type":"object","description":"Place for apps to store custom data related to the file.\nevery app is identified by its id, and can only access its own data.","additionalProperties":{},"propertyNames":{"type":"string","format":"uuid"}},"shared_app_data":{"type":"object","description":"Apps can provide and request shared app data from other apps on creation","additionalProperties":{},"propertyNames":{"type":"string","format":"uuid"}}}},"FileVersion":{"type":"object","required":["file_id","version","app_id","app_path","metadata","created_time","modified_time","size","storage_location_id","storage_quota_id","content_valid"],"properties":{"app_id":{"type":"string","format":"uuid"},"app_path":{"type":"string"},"content_expected_sha256_digest":{"type":["string","null"]},"content_valid":{"type":"boolean"},"created_time":{"type":"string","format":"date-time"},"file_id":{"type":"string","format":"uuid"},"metadata":{"$ref":"#/components/schemas/FileVersionMetadata"},"modified_time":{"type":"string","format":"date-time"},"size":{"type":"integer","format":"int64"},"storage_location_id":{"type":"string","format":"uuid"},"storage_quota_id":{"type":"string","format":"uuid"},"version":{"type":"integer","format":"int32"}}},"FileVersionIdentifier":{"type":"object","required":["file_id","version","app_id","app_path"],"properties":{"app_id":{"type":"string","format":"uuid"},"app_path":{"type":"string"},"file_id":{"type":"string","format":"uuid"},"version":{"type":"integer","format":"int32"}}},"FileVersionMetadata":{"type":"object"},"FilezFile":{"type":"object","required":["id","owner_id","mime_type","name","created_time","modified_time","metadata"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"metadata":{"$ref":"#/components/schemas/FileMetadata"},"mime_type":{"type":"string"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"FilezUser":{"type":"object","required":["id","display_name","created_time","modified_time","deleted","super_admin"],"properties":{"created_by":{"type":["string","null"],"format":"uuid"},"created_time":{"type":"string","format":"date-time"},"deleted":{"type":"boolean"},"display_name":{"type":"string"},"external_user_id":{"type":["string","null"]},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"pre_identifier_email":{"type":["string","null"],"description":"Used to create a user before the external user ID is known, when the user then logs in with a verified email address the email is switched to the external user ID"},"profile_picture":{"type":["string","null"],"format":"uuid"},"super_admin":{"type":"boolean"}}},"GetFileVersionsRequestBody":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersionIdentifier"}}}},"GetFileVersionsResponseBody":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersion"}}}},"GetFilesMetaRequestBody":{"type":"object","required":["file_ids"],"properties":{"file_ids":{"type":"array","items":{"type":"string","format":"uuid"}}}},"GetFilesMetaResBody":{"type":"object","required":["files_meta"],"properties":{"files_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FileMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"GetFilesResponseBody":{"type":"object","required":["files"],"properties":{"files":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FilezFile"},"propertyNames":{"type":"string","format":"uuid"}}}},"GetStorageQuotaRequestBody":{"type":"object","required":["subject_type","subject_id","storage_location_id"],"properties":{"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"GetUsersReqBody":{"type":"object","required":["user_ids"],"properties":{"user_ids":{"type":"array","items":{"type":"string","format":"uuid"}}}},"GetUsersResBody":{"type":"object","required":["users_meta"],"properties":{"users_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"HealthResBody":{"type":"object","required":["all_healthy","database","zitadel","controller","storage_locations"],"properties":{"all_healthy":{"type":"boolean"},"controller":{"$ref":"#/components/schemas/HealthStatus"},"database":{"$ref":"#/components/schemas/HealthStatus"},"storage_locations":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/HealthStatus"},"propertyNames":{"type":"string","format":"uuid"}},"zitadel":{"$ref":"#/components/schemas/HealthStatus"}}},"HealthStatus":{"type":"object","required":["healthy","response"],"properties":{"healthy":{"type":"boolean"},"response":{"type":"string"}}},"ListAccessPoliciesRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListAccessPoliciesSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListAccessPoliciesResponseBody":{"type":"object","required":["access_policies"],"properties":{"access_policies":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicy"}}}},"ListAccessPoliciesSortBy":{"type":"string","enum":["CreatedTime","ModifiedTime","Name"]},"ListFileGroupsRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListFileGroupsSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListFileGroupsResponseBody":{"type":"object","required":["file_groups"],"properties":{"file_groups":{"type":"array","items":{"$ref":"#/components/schemas/FileGroup"}}}},"ListFileGroupsSortBy":{"type":"string","enum":["Name","CreatedTime","ModifiedTime"]},"ListFilesRequestBody":{"type":"object","required":["file_group_id"],"properties":{"file_group_id":{"type":"string","format":"uuid"},"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListFilesSorting"}]}}},"ListFilesResponseBody":{"type":"object","required":["files","total_count"],"properties":{"files":{"type":"array","items":{"$ref":"#/components/schemas/FilezFile"}},"total_count":{"type":"integer","format":"int64"}}},"ListFilesSortBy":{"type":"string","enum":["Name","CreatedTime","ModifiedTime"]},"ListFilesSortOrder":{"type":"object","required":["sort_by"],"properties":{"sort_by":{"$ref":"#/components/schemas/ListFilesSortBy"},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListFilesSorting":{"oneOf":[{"type":"object","required":["StoredSortOrder"],"properties":{"StoredSortOrder":{"$ref":"#/components/schemas/ListFilesStoredSortOrder"}}},{"type":"object","required":["SortOrder"],"properties":{"SortOrder":{"$ref":"#/components/schemas/ListFilesSortOrder"}}}]},"ListFilesStoredSortOrder":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListStorageLocationsRequestBody":{"type":"object","properties":{"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListStorageLocationsSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListStorageLocationsResponseBody":{"type":"object","required":["storage_locations"],"properties":{"storage_locations":{"type":"array","items":{"$ref":"#/components/schemas/StorageLocationListItem"}}}},"ListStorageLocationsSortBy":{"type":"string","enum":["CreatedTime","ModifiedTime","Name"]},"ListStorageQuotasRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListStorageQuotasSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListStorageQuotasSortBy":{"type":"string","enum":["CreatedTime","ModifiedTime","SubjectType","SubjectId","StorageLocationId"]},"ListUserGroupsRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListUserGroupsSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListUserGroupsResponseBody":{"type":"object","required":["user_groups"],"properties":{"user_groups":{"type":"array","items":{"$ref":"#/components/schemas/UserGroup"}}}},"ListUserGroupsSortBy":{"type":"string","enum":["Name","CreatedTime","ModifiedTime"]},"ListUsersRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"type":["string","null"]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListUsersResponseBody":{"type":"object","required":["users","total_count"],"properties":{"total_count":{"type":"integer","format":"int64"},"users":{"type":"array","items":{"$ref":"#/components/schemas/FilezUser"}}}},"ListUsersSortBy":{"type":"string","enum":["CreatedTime","ModifiedTime","Name"]},"ListedFilezUser":{"type":"object","required":["id","display_name","created_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"display_name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"SortDirection":{"type":"string","enum":["Ascending","Descending"]},"StorageLocationListItem":{"type":"object","required":["id","name","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"}}},"StorageQuota":{"type":"object","required":["id","name","owner_id","subject_type","subject_id","storage_location_id","quota_bytes","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"},"quota_bytes":{"type":"integer","format":"int64"},"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"UpdateAccessPolicyRequestBody":{"type":"object","required":["name","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"name":{"type":"string"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"UpdateFileGroupMembersRequestBody":{"type":"object","required":["file_group_id"],"properties":{"file_group_id":{"type":"string","format":"uuid"},"files_to_add":{"type":["array","null"],"items":{"type":"string","format":"uuid"}},"files_to_remove":{"type":["array","null"],"items":{"type":"string","format":"uuid"}}}},"UpdateFileGroupRequestBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"UpdateFileRequestBody":{"type":"object","required":["file_id"],"properties":{"file_id":{"type":"string","format":"uuid"},"file_name":{"type":["string","null"]},"metadata":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/FileMetadata"}]},"mime_type":{"type":["string","null"]}}},"UpdateFileResponseBody":{"type":"object","required":["file"],"properties":{"file":{"$ref":"#/components/schemas/FilezFile"}}},"UpdateFileVersion":{"type":"object","required":["identifier"],"properties":{"identifier":{"$ref":"#/components/schemas/FileVersionIdentifier"},"new_metadata":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/FileVersionMetadata"}]}}},"UpdateFileVersionsRequestBody":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/UpdateFileVersion"}}}},"UpdateFileVersionsResponseBody":{"type":"object","required":["versions"],"properties":{"versions":{"type":"array","items":{"$ref":"#/components/schemas/FileVersion"}}}},"UpdateFilesMetaRequestBody":{"type":"object","required":["file_ids","files_meta"],"properties":{"file_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"files_meta":{"$ref":"#/components/schemas/UpdateFilesMetaType"}}},"UpdateFilesMetaType":{"oneOf":[{"type":"object","required":["Tags"],"properties":{"Tags":{"$ref":"#/components/schemas/UpdateFilesMetaTypeTags"}}}]},"UpdateFilesMetaTypeTags":{"type":"object","required":["tags","method"],"properties":{"method":{"$ref":"#/components/schemas/UpdateFilesMetaTypeTagsMethod"},"tags":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}}}},"UpdateFilesMetaTypeTagsMethod":{"type":"string","enum":["Add","Remove","Set"]},"UpdateStorageQuotaRequestBody":{"type":"object","required":["subject_type","subject_id","storage_location_id","quota_bytes"],"properties":{"quota_bytes":{"type":"integer","format":"int64"},"storage_location_id":{"type":"string","format":"uuid"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"UpdateUserGroupMembersRequestBody":{"type":"object","required":["user_group_id"],"properties":{"user_group_id":{"type":"string","format":"uuid"},"users_to_add":{"type":["array","null"],"items":{"type":"string","format":"uuid"}},"users_to_remove":{"type":["array","null"],"items":{"type":"string","format":"uuid"}}}},"UpdateUserGroupRequestBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"UserGroup":{"type":"object","required":["id","owner_id","name","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"UserMeta":{"type":"object","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/FilezUser"}}}}},"tags":[{"name":"filez-server","description":"MOWS Filez API"}]}