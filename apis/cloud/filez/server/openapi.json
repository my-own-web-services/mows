{"openapi":"3.1.0","info":{"title":"server","description":"","license":{"name":""},"version":"0.0.1"},"paths":{"/api/access_policies":{"post":{"operationId":"create_access_policy","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccessPolicyRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new access policy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AccessPolicy"}}}}}}},"/api/access_policies/check":{"post":{"operationId":"check_resource_access","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckResourceAccessRequestBody"}}},"required":true},"responses":{"200":{"description":"Checks if the requested resources are available to this user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CheckResourceAccessResponseBody"}}}}}}},"/api/access_policies/list":{"post":{"operationId":"list_access_policies","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAccessPoliciesRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists access policies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListAccessPoliciesResponseBody"}}}}}}},"/api/access_policies/{access_policy_id}":{"get":{"operationId":"get_access_policy","responses":{"200":{"description":"Gets a access policy by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AccessPolicy"}}}}}},"put":{"operationId":"update_access_policy","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccessPolicyRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a access policy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AccessPolicy"}}}}}},"delete":{"operationId":"delete_access_policy","responses":{"200":{"description":"Deletes a access policy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_String"}}}}}}},"/api/file_groups":{"post":{"operationId":"create_file_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_FileGroup"}}}}}}},"/api/file_groups/list":{"post":{"operationId":"list_file_groups","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFileGroupsRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists file groups","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListFileGroupsResponseBody"}}}}}}},"/api/file_groups/list_files":{"post":{"operationId":"list_files","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFilesRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists the files in a given group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListFilesResponseBody"}}}}}}},"/api/file_groups/{file_group_id}":{"get":{"operationId":"get_file_group","responses":{"200":{"description":"Gets a file group by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_FileGroup"}}}}}},"put":{"operationId":"update_file_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_FileGroup"}}}}}},"delete":{"operationId":"delete_file_group","responses":{"200":{"description":"Deletes a file group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_String"}}}}}}},"/api/files/create":{"post":{"description":"Create a new file entry in the database","operationId":"create_file","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileRequestBody"}}},"required":true},"responses":{"200":{"description":"Created a file on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CreateFileResponseBody"}}}}}}},"/api/files/meta/get":{"post":{"operationId":"get_files_metadata","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetFilesMetaRequestBody"}}},"required":true},"responses":{"200":{"description":"Gets the metadata for any number of files","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_GetFileMetaResBody"}}}}}}},"/api/files/meta/update":{"put":{"operationId":"update_files_metadata","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFilesMetaRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates the metadata for any number of files","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_EmptyApiResponse"}}}}}}},"/api/files/versions/create/":{"post":{"description":"Create a new file version entry in the database","operationId":"create_file_version","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFileVersionRequestBody"}}},"required":true},"responses":{"201":{"description":"Created a file version on the server","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_CreateFileVersionResponseBody"}}}}}}},"/api/files/versions/get/content/{file_id}/{version}/{app_id}/{app_path}":{"get":{"operationId":"get_file_content","parameters":[{"name":"file_id","in":"path","description":"The ID of the file to retrieve content for","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"version","in":"path","description":"The version of the file to retrieve, if applicable","required":true,"schema":{"type":["integer","null"],"format":"int32","minimum":0}},{"name":"app_id","in":"path","required":true,"schema":{"type":["string","null"],"format":"uuid"}},{"name":"app_path","in":"path","required":true,"schema":{"type":["string","null"]}},{"name":"d","in":"path","description":"download the file/set the content disposition header to attachment","required":true,"schema":{"type":["boolean","null"]}},{"name":"c","in":"path","description":"request setting the caching headers for max-age in seconds","required":true,"schema":{"type":["integer","null"],"format":"int64","minimum":0}}],"responses":{"200":{"description":"Gets a single files data/content from the server"},"404":{"description":"File not found"},"500":{"description":"Internal server error retrieving file content"}}}},"/api/files/versions/tus/head/{file_id}/{version}/{job_id}":{"head":{"operationId":"tus_head","parameters":[{"name":"file_id","in":"path","description":"The ID of the file to check for upload status","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"version","in":"path","description":"The version of the file, if applicable","required":true,"schema":{"type":["integer","null"],"format":"int32","minimum":0}}],"responses":{"200":{"description":"File exists and is ready to resume upload"},"400":{"description":"Bad request, missing or invalid headers"},"404":{"description":"File not found"},"412":{"description":"Precondition failed due to missing or invalid Tus-Resumable header"}}}},"/api/files/versions/tus/patch/{file_id}/{version}":{"patch":{"operationId":"tus_patch","parameters":[{"name":"file_id","in":"path","description":"The ID of the file to patch","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"version","in":"path","description":"The version of the file to patch, if applicable","required":true,"schema":{"type":["integer","null"],"format":"int32","minimum":0}}],"requestBody":{"content":{"application/octet-stream":{}}},"responses":{"204":{"description":"File was successfully patched"},"400":{"description":"Bad request, missing or invalid headers"},"404":{"description":"File not found"},"412":{"description":"Precondition failed, likely due to missing or invalid Tus-Resumable header"}}}},"/api/health":{"get":{"operationId":"get_health","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_HealthResBody"}}}}}}},"/api/user_groups":{"post":{"operationId":"create_user_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Creates a new user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UserGroup"}}}}}}},"/api/user_groups/list":{"post":{"operationId":"list_user_groups","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUserGroupsRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists user groups","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListUserGroupsResponseBody"}}}}}}},"/api/user_groups/{user_group_id}":{"get":{"operationId":"get_user_group","responses":{"200":{"description":"Gets a user group by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UserGroup"}}}}}},"put":{"operationId":"update_user_group","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserGroupRequestBody"}}},"required":true},"responses":{"200":{"description":"Updates a user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_UserGroup"}}}}}},"delete":{"operationId":"delete_user_group","responses":{"200":{"description":"Deletes a user group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_String"}}}}}}},"/api/user_groups/{user_group_id}/list_users":{"post":{"operationId":"list_users","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsersRequestBody"}}},"required":true},"responses":{"200":{"description":"Lists the users in a given group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ListUsersResponseBody"}}}}}}},"/api/users/apply":{"post":{"operationId":"apply_user","responses":{"200":{"description":"Applied own user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ApplyUserResponseBody"}}}}}}},"/api/users/get":{"post":{"operationId":"get_users","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUsersReqBody"}}},"required":true},"responses":{"200":{"description":"Gets Users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_GetUsersResBody"}}}}}}}},"components":{"schemas":{"AccessPolicy":{"type":"object","required":["id","name","created_time","modified_time","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"created_time":{"type":"string","format":"date-time"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"AccessPolicyAction":{"type":"string","enum":["filez.files.versions.content.get","filez.files.versions.content.tus.head","filez.files.versions.content.tus.patch","filez.files.create","filez.files.meta.get","filez.files.meta.list","filez.files.meta.update","filez.users.get","filez.file_groups.create","filez.file_groups.read","filez.file_groups.update","filez.file_groups.delete","filez.file_groups.list","filez.file_groups.list_files","filez.user_groups.create","filez.user_groups.read","filez.user_groups.update","filez.user_groups.delete","filez.user_groups.list","filez.user_groups.list_users","filez.access_policies.create","filez.access_policies.read","filez.access_policies.update","filez.access_policies.delete","filez.access_policies.list"]},"AccessPolicyEffect":{"type":"string","enum":["Deny","Allow"]},"AccessPolicyResourceType":{"type":"string","enum":["file","file_group","user","user_group","storage_location","access_policy"]},"AccessPolicySubjectType":{"type":"string","enum":["User","UserGroup"]},"ApiResponseStatus":{"type":"string","enum":["Success","Error"]},"ApiResponse_AccessPolicy":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","name","created_time","modified_time","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"created_time":{"type":"string","format":"date-time"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ApplyUserResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["user_id"],"properties":{"user_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CheckResourceAccessResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["auth_evaluations"],"properties":{"auth_evaluations":{"type":"array","items":{"$ref":"#/components/schemas/AuthEvaluation"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CreateFileResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["file_id"],"properties":{"file_id":{"type":"string"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_CreateFileVersionResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["version"],"properties":{"version":{"type":"integer","format":"int32"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_EmptyApiResponse":{"type":"object","required":["message","status"],"properties":{"data":{"default":null},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_FileGroup":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","owner_id","name","created_time","modified_time","group_type"],"properties":{"created_time":{"type":"string","format":"date-time"},"group_type":{"$ref":"#/components/schemas/FileGroupType"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_GetFileMetaResBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["files_meta"],"properties":{"files_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FileMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_GetUsersResBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["users_meta"],"properties":{"users_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_HealthResBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object"},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListAccessPoliciesResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["access_policies"],"properties":{"access_policies":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicy"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListFileGroupsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["file_groups"],"properties":{"file_groups":{"type":"array","items":{"$ref":"#/components/schemas/FileGroup"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListFilesResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["files","total_count"],"properties":{"files":{"type":"array","items":{"$ref":"#/components/schemas/FilezFile"}},"total_count":{"type":"integer","format":"int64"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListUserGroupsResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["user_groups"],"properties":{"user_groups":{"type":"array","items":{"$ref":"#/components/schemas/UserGroup"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_ListUsersResponseBody":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["users","total_count"],"properties":{"total_count":{"type":"integer","format":"int64"},"users":{"type":"array","items":{"$ref":"#/components/schemas/FilezUser"}}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_String":{"type":"object","required":["message","status"],"properties":{"data":{"type":"string"},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApiResponse_UserGroup":{"type":"object","required":["message","status"],"properties":{"data":{"type":"object","required":["id","owner_id","name","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"message":{"type":"string"},"status":{"$ref":"#/components/schemas/ApiResponseStatus"}}},"ApplyUserResponseBody":{"type":"object","required":["user_id"],"properties":{"user_id":{"type":"string","format":"uuid"}}},"AuthEvaluation":{"type":"object","required":["is_allowed","reason"],"properties":{"is_allowed":{"type":"boolean"},"reason":{"$ref":"#/components/schemas/AuthReason"},"resource_id":{"type":["string","null"],"format":"uuid"}}},"AuthReason":{"oneOf":[{"type":"string","enum":["Owned"]},{"type":"object","required":["AllowedByDirectUserPolicy"],"properties":{"AllowedByDirectUserPolicy":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByDirectGroupPolicy"],"properties":{"AllowedByDirectGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id"],"properties":{"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByResourceGroupUserPolicy"],"properties":{"AllowedByResourceGroupUserPolicy":{"type":"object","required":["policy_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["AllowedByResourceGroupUserGroupPolicy"],"properties":{"AllowedByResourceGroupUserGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByDirectUserPolicy"],"properties":{"DeniedByDirectUserPolicy":{"type":"object","required":["policy_id"],"properties":{"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByDirectGroupPolicy"],"properties":{"DeniedByDirectGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id"],"properties":{"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByResourceGroupUserPolicy"],"properties":{"DeniedByResourceGroupUserPolicy":{"type":"object","required":["policy_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"}}}}},{"type":"object","required":["DeniedByResourceGroupUserGroupPolicy"],"properties":{"DeniedByResourceGroupUserGroupPolicy":{"type":"object","required":["policy_id","via_user_group_id","on_resource_group_id"],"properties":{"on_resource_group_id":{"type":"string","format":"uuid"},"policy_id":{"type":"string","format":"uuid"},"via_user_group_id":{"type":"string","format":"uuid"}}}}},{"type":"string","enum":["NoMatchingAllowPolicy"]},{"type":"string","enum":["ResourceNotFound"]}]},"CheckResourceAccessRequestBody":{"type":"object","required":["resource_type","action"],"properties":{"action":{"type":"string"},"requesting_app_origin":{"type":["string","null"]},"resource_ids":{"type":["array","null"],"items":{"type":"string","format":"uuid"}},"resource_type":{"type":"string"}}},"CheckResourceAccessResponseBody":{"type":"object","required":["auth_evaluations"],"properties":{"auth_evaluations":{"type":"array","items":{"$ref":"#/components/schemas/AuthEvaluation"}}}},"CreateAccessPolicyRequestBody":{"type":"object","required":["name","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"name":{"type":"string"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"CreateFileGroupRequestBody":{"type":"object","required":["name","group_type"],"properties":{"group_type":{"$ref":"#/components/schemas/FileGroupType"},"name":{"type":"string"}}},"CreateFileRequestBody":{"type":"object","required":["file_name"],"properties":{"file_name":{"type":"string"},"mime_type":{"type":["string","null"]},"time_created":{"type":["string","null"],"format":"date-time"},"time_modified":{"type":["string","null"],"format":"date-time"}}},"CreateFileResponseBody":{"type":"object","required":["file_id"],"properties":{"file_id":{"type":"string"}}},"CreateFileVersionRequestBody":{"type":"object","required":["file_id","metadata","size","storage_id"],"properties":{"app_path":{"type":["string","null"]},"file_id":{"type":"string","format":"uuid"},"metadata":{"$ref":"#/components/schemas/FileVersionMetadata"},"size":{"type":"integer","format":"int64"},"storage_id":{"type":"string","format":"uuid"}}},"CreateFileVersionResponseBody":{"type":"object","required":["version"],"properties":{"version":{"type":"integer","format":"int32"}}},"CreateUserGroupRequestBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"EmptyApiResponse":{"default":null},"FileGroup":{"type":"object","required":["id","owner_id","name","created_time","modified_time","group_type"],"properties":{"created_time":{"type":"string","format":"date-time"},"group_type":{"$ref":"#/components/schemas/FileGroupType"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"FileGroupType":{"type":"string","enum":["Manual","Dynamic"]},"FileMeta":{"type":"object","required":["file","tags"],"properties":{"file":{"$ref":"#/components/schemas/FilezFile"},"tags":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}}}},"FileMetadata":{"type":"object","required":["private_app_data","shared_app_data","extracted_data"],"properties":{"default_preview_app_id":{"type":["string","null"],"format":"uuid"},"extracted_data":{"description":"Extracted data from the file, such as text content, metadata, etc."},"private_app_data":{"type":"object","description":"Place for apps to store custom data related to the file.\nevery app is identified by its id, and can only access its own data.","additionalProperties":{},"propertyNames":{"type":"string","format":"uuid"}},"shared_app_data":{"type":"object","description":"Apps can provide and request shared app data from other apps on creation","additionalProperties":{},"propertyNames":{"type":"string","format":"uuid"}}}},"FileVersionMetadata":{"type":"object"},"FilezFile":{"type":"object","required":["id","owner_id","mime_type","name","created_time","modified_time","metadata"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"metadata":{"$ref":"#/components/schemas/FileMetadata"},"mime_type":{"type":"string"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"FilezUser":{"type":"object","required":["id","display_name","created_time","modified_time","deleted"],"properties":{"created_time":{"type":"string","format":"date-time"},"deleted":{"type":"boolean"},"display_name":{"type":"string"},"external_user_id":{"type":["string","null"]},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"}}},"GetFileMetaResBody":{"type":"object","required":["files_meta"],"properties":{"files_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/FileMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"GetFilesMetaRequestBody":{"type":"object","required":["file_ids"],"properties":{"file_ids":{"type":"array","items":{"type":"string","format":"uuid"}}}},"GetUsersReqBody":{"type":"object","required":["user_ids"],"properties":{"user_ids":{"type":"array","items":{"type":"string","format":"uuid"}}}},"GetUsersResBody":{"type":"object","required":["users_meta"],"properties":{"users_meta":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserMeta"},"propertyNames":{"type":"string","format":"uuid"}}}},"HealthResBody":{"type":"object"},"ListAccessPoliciesRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListAccessPoliciesSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListAccessPoliciesResponseBody":{"type":"object","required":["access_policies"],"properties":{"access_policies":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicy"}}}},"ListAccessPoliciesSortBy":{"type":"string","enum":["CreatedTime","ModifiedTime","Name"]},"ListFileGroupsRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListFileGroupsSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListFileGroupsResponseBody":{"type":"object","required":["file_groups"],"properties":{"file_groups":{"type":"array","items":{"$ref":"#/components/schemas/FileGroup"}}}},"ListFileGroupsSortBy":{"type":"string","enum":["Name","CreatedTime","ModifiedTime"]},"ListFilesRequestBody":{"type":"object","required":["file_group_id"],"properties":{"file_group_id":{"type":"string","format":"uuid"},"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListFilesSorting"}]}}},"ListFilesResponseBody":{"type":"object","required":["files","total_count"],"properties":{"files":{"type":"array","items":{"$ref":"#/components/schemas/FilezFile"}},"total_count":{"type":"integer","format":"int64"}}},"ListFilesSortBy":{"type":"string","enum":["Name","CreatedTime","ModifiedTime"]},"ListFilesSortOrder":{"type":"object","required":["sort_by"],"properties":{"sort_by":{"$ref":"#/components/schemas/ListFilesSortBy"},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListFilesSorting":{"oneOf":[{"type":"object","required":["StoredSortOrder"],"properties":{"StoredSortOrder":{"$ref":"#/components/schemas/ListFilesStoredSortOrder"}}},{"type":"object","required":["SortOrder"],"properties":{"SortOrder":{"$ref":"#/components/schemas/ListFilesSortOrder"}}}]},"ListFilesStoredSortOrder":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListUserGroupsRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ListUserGroupsSortBy"}]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListUserGroupsResponseBody":{"type":"object","required":["user_groups"],"properties":{"user_groups":{"type":"array","items":{"$ref":"#/components/schemas/UserGroup"}}}},"ListUserGroupsSortBy":{"type":"string","enum":["Name","CreatedTime","ModifiedTime"]},"ListUsersRequestBody":{"type":"object","properties":{"from_index":{"type":["integer","null"],"format":"int64"},"limit":{"type":["integer","null"],"format":"int64"},"sort_by":{"type":["string","null"]},"sort_order":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortDirection"}]}}},"ListUsersResponseBody":{"type":"object","required":["users","total_count"],"properties":{"total_count":{"type":"integer","format":"int64"},"users":{"type":"array","items":{"$ref":"#/components/schemas/FilezUser"}}}},"SortDirection":{"type":"string","enum":["Ascending","Descending"]},"UpdateAccessPolicyRequestBody":{"type":"object","required":["name","subject_type","subject_id","resource_type","actions","effect"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/AccessPolicyAction"}},"context_app_id":{"type":["string","null"],"format":"uuid"},"effect":{"$ref":"#/components/schemas/AccessPolicyEffect"},"name":{"type":"string"},"resource_id":{"type":["string","null"],"format":"uuid"},"resource_type":{"$ref":"#/components/schemas/AccessPolicyResourceType"},"subject_id":{"type":"string","format":"uuid"},"subject_type":{"$ref":"#/components/schemas/AccessPolicySubjectType"}}},"UpdateFileGroupRequestBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"UpdateFilesMetaRequestBody":{"type":"object","required":["file_ids","files_meta"],"properties":{"file_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"files_meta":{"$ref":"#/components/schemas/UpdateFilesMetaType"}}},"UpdateFilesMetaType":{"oneOf":[{"type":"object","required":["Tags"],"properties":{"Tags":{"$ref":"#/components/schemas/UpdateFilesMetaTypeTags"}}}]},"UpdateFilesMetaTypeTags":{"type":"object","required":["tags","method"],"properties":{"method":{"$ref":"#/components/schemas/UpdateFilesMetaTypeTagsMethod"},"tags":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}}}},"UpdateFilesMetaTypeTagsMethod":{"type":"string","enum":["Add","Remove","Set"]},"UpdateUserGroupRequestBody":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"UserGroup":{"type":"object","required":["id","owner_id","name","created_time","modified_time"],"properties":{"created_time":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_time":{"type":"string","format":"date-time"},"name":{"type":"string"},"owner_id":{"type":"string","format":"uuid"}}},"UserMeta":{"type":"object","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/FilezUser"}}}}},"tags":[{"name":"filez-server","description":"MOWS Filez API"}]}