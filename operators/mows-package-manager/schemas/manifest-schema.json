{"$schema":"http://json-schema.org/draft-07/schema#","title":"Manifest","type":"object","required":["manifestVersion","metadata","spec"],"properties":{"manifestVersion":{"type":"string"},"metadata":{"$ref":"#/definitions/ManifestMetadata"},"spec":{"$ref":"#/definitions/ManifestSpec"}},"definitions":{"FilesSpec":{"type":"object"},"HelmRepoSpec":{"type":"object","required":["chartName","releaseName"],"properties":{"chartName":{"type":"string"},"releaseName":{"type":"string"},"sha256Digest":{"type":["string","null"]},"urls":{"type":["array","null"],"items":{"type":"string"}},"version":{"type":["string","null"]}}},"JsonPatch":{"type":"object","required":["op","path","value"],"properties":{"op":{"type":"string"},"path":{"type":"string"},"value":true}},"ManifestMetadata":{"type":"object","required":["name","version"],"properties":{"description":{"type":["string","null"]},"name":{"type":"string"},"version":{"type":"string"}}},"ManifestPatches":{"type":"object","required":["target"],"properties":{"mergePatch":{"description":"RFC 7396"},"patches":{"description":"RFC 6902","type":["array","null"],"items":{"$ref":"#/definitions/JsonPatch"}},"target":{"type":"array","items":{"$ref":"#/definitions/PatchTargetFieldSelector"}}}},"ManifestSource":{"oneOf":[{"type":"object","required":["helm"],"properties":{"helm":{"$ref":"#/definitions/HelmRepoSpec"}},"additionalProperties":false},{"type":"object","required":["files"],"properties":{"files":{"$ref":"#/definitions/FilesSpec"}},"additionalProperties":false},{"type":"object","required":["remoteFiles"],"properties":{"remoteFiles":{"$ref":"#/definitions/RemoteFilesSpec"}},"additionalProperties":false}]},"ManifestSpec":{"oneOf":[{"type":"object","required":["raw"],"properties":{"raw":{"$ref":"#/definitions/RawManifestSpec"}},"additionalProperties":false}]},"ManifestTransformations":{"type":"object","required":["patches"],"properties":{"patches":{"type":"array","items":{"$ref":"#/definitions/ManifestPatches"}}}},"PatchTargetFieldSelector":{"type":"object","required":["field","regex"],"properties":{"field":{"type":"string"},"regex":{"type":"string"}}},"RawManifestSpec":{"type":"object","required":["sources"],"properties":{"sources":{"type":"object","additionalProperties":{"$ref":"#/definitions/ManifestSource"}},"transformations":{"anyOf":[{"$ref":"#/definitions/ManifestTransformations"},{"type":"null"}]}}},"RemoteFile":{"type":"object","required":["sha256Digest","urls"],"properties":{"sha256Digest":{"type":"string"},"type":{"type":["string","null"]},"urls":{"description":"Multiple URLs are allowed for redundancy","type":"array","items":{"type":"string"}}}},"RemoteFilesSpec":{"type":"object","required":["files"],"properties":{"files":{"type":"array","items":{"$ref":"#/definitions/RemoteFile"}}}}}}