reverseProxy:
    create: true
    network: rp

tls: false
routing: local

networks:
    subnet:
        # /120 prefix
        v6: "fd4d:6169:6c63:6f77:aaaa:aaaa:aaaa:aa"
        # /24 prefix
        legacy: "172.72.1"

filez:
    server:
        build:
            enabled: true
            path: ../../server/
            dockerfile: Dockerfile
        publicHostname:
            domain: y.gy
            subdomain: filez-server
        db:
            exposeToLocalhost: true
            port: 27018
    web:
        build:
            enabled: true
            path: ../../web/
            dockerfile: Dockerfile
        publicHostname:
            domain: y.gy
            subdomain: filez
    readonlyMounts:
        - name: testVideo
          path: /home/paul/Downloads/test_video/
          ownerId: U63uvh_kt4J8jjLlV3vG8Q7Hdm1T25Ay
        - name: testImages
          path: /home/paul/Downloads/test_images/
          ownerId: U63uvh_kt4J8jjLlV3vG8Q7Hdm1T25Ay
    # TODO if the number of addons is greater than 10 the network asignment will fail
    addons:
        - name: video
          db: true
          storage: true
          filezAccess: true
          image: firstdorsal/filez-addons-video
          resetOnRestart: true
          build:
              enabled: true
              path: ../../addons/video/
              dockerfile: Dockerfile
        - name: image
          db: true
          storage: true
          filezAccess: true
          image: firstdorsal/filez-addons-image
          resetOnRestart: true
          build:
              enabled: true
              path: ../../addons/image/
              dockerfile: Dockerfile
        - name: metadata
          db: true
          storage: false
          filezAccess: true
          image: firstdorsal/filez-addons-metadata
          resetOnRestart: true
          build:
              enabled: true
              path: ../../addons/metadata/
              dockerfile: Dockerfile

interossea:
    server:
        create: true
        internalHostname: interossea-server
        publicHostname:
            domain: y.gy
            subdomain: accounts-server
        build:
            enabled: true
            path: /home/paul/Documents/interossea/server/
            dockerfile: Dockerfile
        mail:
            username: no-reply@y.gy
            smtpServer: mx.y.gy
            fromName: Interossea Login
            fromAddress: no-reply@y.gy
            userAgent: Sugar-Free-Mail-2022
            replyTo: mail@y.gy
        db:
            exposeToLocalhost: true
            port: 27019

    web:
        create: true
        publicHostname:
            domain: y.gy
            subdomain: accounts
        build:
            enabled: true
            path: /home/paul/Documents/interossea/web/
            dockerfile: Dockerfile
