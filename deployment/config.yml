external:
    omdb:
        enabled: true
        downloadPostersAmazon: true

reverseProxy:
    create: true
    network: rp

tls: false
routing: local

networks:
    subnet:
        # /120 prefix
        v6: "fd4d:6169:6c63:6f99:aaaa:aaaa:aaaa:aa"
        # /24 prefix
        legacy: "172.72.11"

filez:
    runAsRoot: true
    storage:
        default:
            # volume or bind mount
            type: volume
            path: ""
            defaultUserLimits:
                maxStorage: 10000000000 # 10GB
                maxFiles: 100000
                maxBandwidth: 0
    defaultStorage: default
    server:
        build:
            enabled: true
            path: ../../server/
            dockerfile: Dockerfile
        publicHostname:
            domain: y.gy
            subdomain: filez-server
        db:
            exposeToLocalhost: true
            port: 27018
    web:
        build:
            enabled: true
            path: ../../web/
            dockerfile: Dockerfile
        publicHostname:
            domain: y.gy
            subdomain: filez
    # this will chmod all files and folders and give any user read access to them on each path
    # this isn't optimal because it does something outside the container space but is required when running the containers as non root users
    readonlyMounts:
        - name: testVideo
          path: /home/paul/Downloads/test_video/
          ownerId: JIapiYfZ5YQPmAs6T39vw3arVs03UBkZ
        - name: testImages
          path: /home/paul/Downloads/test_images/
          ownerId: JIapiYfZ5YQPmAs6T39vw3arVs03UBkZ
    # TODO if the number of addons is greater than 10 the network asignment will fail
    addons:
        - name: video
          db: true
          storage: true
          filezAccess: true
          image: firstdorsal/filez-addons-video
          resetOnRestart: true
          storageOptions:
              type: bind
              path: ./videoBind
          build:
              enabled: true
              path: ../../addons/video/
              dockerfile: Dockerfile
        - name: image
          db: true
          storage: true
          filezAccess: true
          image: firstdorsal/filez-addons-image
          resetOnRestart: true
          storageOptions:
              type: volume
              path:
          build:
              enabled: true
              path: ../../addons/image/
              dockerfile: Dockerfile
        - name: metadata
          db: true
          storage: false
          filezAccess: true
          image: firstdorsal/filez-addons-metadata
          resetOnRestart: true
          storageOptions:
              type: volume
              path:
          build:
              enabled: true
              path: ../../addons/metadata/
              dockerfile: Dockerfile

interossea:
    server:
        allowNewUsers: false
        createUsers: [test@y.gy, peter@y.gy]
        makeUsersAdmin: [test@y.gy]
        create: true
        internalHostname: interossea-server
        publicHostname:
            domain: y.gy
            subdomain: accounts-server
        build:
            enabled: true
            path: /home/paul/Documents/interossea/server/
            dockerfile: Dockerfile
        mail:
            username: no-reply@y.gy
            smtpServer: mx.y.gy
            fromName: Interossea Login
            fromAddress: no-reply@y.gy
            userAgent: Sugar-Free-Mail-2022
            replyTo: mail@y.gy
        db:
            exposeToLocalhost: true
            port: 27019

    web:
        create: true
        publicHostname:
            domain: y.gy
            subdomain: accounts
        build:
            enabled: true
            path: /home/paul/Documents/interossea/web/
            dockerfile: Dockerfile
