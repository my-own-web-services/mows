{{- $config :=  yamlFile "../config.yml" -}}
{{- $interosseaWebHostname := joindomain $config.interossea.web.publicHostname.subdomain (ternary "localhost" $config.interossea.web.publicHostname.domain (eq $config.routing "local")) -}}
variablePrefix: "$"

magicLink:
    cooldownMinutes: 1
    expirationMinutes: 10
    skipIpCheck: true

keyFolder: /keys/

services:
    - id: filez
      allowedOrigins: [$INTEROSSEA_FILEZ_ALLOWED_ORIGINS]

mail:
    username: $INTEROSSEA_MAIL_USERNAME
    password: $INTEROSSEA_MAIL_PASSWORD
    smtpServer: $INTEROSSEA_MAIL_SMTP_SERVER
    fromName: $INTEROSSEA_MAIL_FROM_NAME
    fromAddress: $INTEROSSEA_MAIL_FROM_ADDRESS
    userAgent: $INTEROSSEA_MAIL_USER_AGENT
    replyTo: $INTEROSSEA_MAIL_REPLY_TO

http:
    internalAddress: "[::]:80"
    host: $INTEROSSEA_WEB_HOSTNAME
    protocol: $INTEROSSEA_WEB_PROTOCOL

db:
    url: mongodb://root:$MONGO_INITDB_ROOT_PASSWORD@interosseadb:27017

uiOrigin: {{ ternary "https://" "http://" $config.tls true }}{{ $interosseaWebHostname}}
